---
{"dg-publish":true,"permalink":"/how-to-solve-the-cold-start-problem/"}
---


## **Cold Startë€?**

ì„œë²„ë¦¬ìŠ¤ í™˜ê²½(AWS Lambda, Vercel, Cloudflare Workers ë“±)ì—ì„œ Node.js í•¨ìˆ˜ê°€ **ìµœì´ˆ í˜¸ì¶œ ì‹œ ëŠë¦¬ê²Œ ì‘ë‹µí•˜ëŠ” í˜„ìƒ**ì…ë‹ˆë‹¤.

  

íŠ¹íˆ Node.jsì™€ npm íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ cold startê°€ ë°œìƒí•©ë‹ˆë‹¤:

- ëŸ°íƒ€ì„ ì´ˆê¸°í™” ë¹„ìš© (Node.js ë¶€íŒ…)

- npm ì˜ì¡´ì„± ë¡œë”© ì‹œê°„

- ë²ˆë“¤ í¬ê¸° ì¦ê°€ë¡œ I/O ì§€ì—°

- VPC ì—°ê²° (AWSì¼ ê²½ìš°)


---

## **ğŸ›  í•´ê²° ë°©ë²• ëª¨ìŒ**

  

### **1. ğŸ‡**Â 

### **ë²ˆë“¤ ì‚¬ì´ì¦ˆ ì¤„ì´ê¸°**

- require() ë˜ëŠ” importë¥¼ ê¼­ í•„ìš”í•œ ê³³ì—ë§Œ ì‚¬ìš©

- lodash â†’ lodash-es + tree shaking

- moment.js â†’ dayjs ê°™ì€ ê²½ëŸ‰í™”ëœ ëŒ€ì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë„ì… (ì˜ˆ: next/dynamic)


  

> ğŸ’¡ **ìµœì¢… ë²ˆë“¤ ìš©ëŸ‰ 1MB ì´í•˜ë¡œ ìœ ì§€**í•˜ëŠ” ê²Œ ì´ìƒì ì…ë‹ˆë‹¤.

---

### **2. ğŸ“¦**Â 

### **ESBuild or SWC ë“±ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë²ˆë“¤ë§**

- Webpackì€ ëŠë¦¬ê¸° ë•Œë¬¸ì— esbuild, SWC, vite ë“±ì„ ì‚¬ìš©
    
- @vercel/nft ê°™ì€ ë„êµ¬ë¡œ dependency trace ìµœì í™”
    

---

### **3. ğŸ’¤**Â 

### **Lazy Load / Dynamic Import**

```
if (event.somethingHeavy) {
  const heavy = await import('./heavyModule.js');
  heavy.doWork();
}
```

- ì´ˆê¸°í™” ì‹œ ëª¨ë“  ì½”ë“œë¥¼ ë¡œë”©í•˜ì§€ ì•Šê³ , **í•„ìš”í•  ë•Œë§Œ ë¶ˆëŸ¬ì˜¤ê¸°**


---

### **4. ğŸ’¡**Â 

### **í•¨ìˆ˜ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•˜ê¸° (â€œpre-warmingâ€)**

- 5~10ë¶„ë§ˆë‹¤ pingì„ ë³´ë‚´ì£¼ëŠ” **keep-alive** íŠ¸ë¦¬ê±° ì„¤ì •
    
- Vercel: cron job ì„¤ì •
    
- AWS Lambda: CloudWatch Events + Lambda ì„¤ì •
    

---

### **5. ğŸ“‚**Â 

### **ì˜ì¡´ì„±ì—ì„œ CommonJS â†’ ESM ì „í™˜ ê³ ë ¤**

  

Node.js 18+ì—ì„œ ESM ì§€ì›ì´ í–¥ìƒë¨.

ESMì€ ëŒ€ì²´ë¡œ **ë™ì  import ë° tree shaking ìµœì í™”**ì— ìœ ë¦¬í•¨.

---

### **6. âš¡**Â 

### **ëŸ°íƒ€ì„ ì „í™˜ ê³ ë ¤**

- **Cloudflare Workers / Deno Deploy**: ì‹¤í–‰ ì‹œê°„ <1ms
    
    - ì´ìœ : V8 isolate ê¸°ë°˜, Node.jsë³´ë‹¤ ê°€ë³ê³  ë¹ ë¦„
        
    
- Node.js í™˜ê²½ì´ í•„ìš” ì—†ë‹¤ë©´ ì´ìª½ìœ¼ë¡œ ì „í™˜ë„ ê³ ë ¤í•  ìˆ˜ ìˆì–´ìš”.
    

---

## **AWS Lambda**

| **ì¡°ì¹˜**                                         | **Cold Start ì‹œê°„ ê°œì„ **             |
| ---------------------------------------------- | -------------------------------- |
| ë²ˆë“¤ í¬ê¸° ì¶•ì†Œ (Lambda zip/payload ì¶•ì†Œ)               | âœ… ë§¤ìš° íš¨ê³¼ì                          |
| ì˜ì¡´ì„± ìµœì†Œí™” (node_modules í¬ê¸° ì¶•ì†Œ)                   | âœ… ë§¤ìš° íš¨ê³¼ì                          |
| dynamic import / lazy require                  | âœ… íš¨ê³¼ì                             |
| keep-alive ping (CloudWatch Events, ì™¸ë¶€ ping ë“±) | âš ï¸ íš¨ê³¼ëŠ” ìˆìœ¼ë‚˜ ìœ ì§€ë³´ìˆ˜ ë° ë¹„ìš© ì´ìŠˆ ì¡´ì¬       |
| VPC ì—°ê²° ì œê±° (ê°€ëŠ¥í•  ê²½ìš°)                             | âœ… ë§¤ìš° íš¨ê³¼ì  (VPC ì§„ì…ì‹œ cold start ì¦ê°€) |
| Provisioned Concurrency ì‚¬ìš©                     | âœ… ê¶ê·¹ì˜ í•´ê²°ì±… (í•˜ì§€ë§Œ ìœ ë£Œ)               |

  

---

ğŸ“ ì°¸ê³ :

- **Lambda@Edge** ë˜ëŠ” **Lambda Function URL + provisioned concurrency ì¡°í•©**ìœ¼ë¡œ cold startë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- TypeScriptë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” esbuildë¡œ ë¹Œë“œ ìµœì í™”ê°€ í•µì‹¬ì…ë‹ˆë‹¤.


